---
title: 'Основная функция Python - Шпаргалка по Python'
description: 'Имя области, в которой выполняется код верхнего уровня. Имя модуля устанавливается равным main при чтении из стандартного ввода, скрипта или интерактивной подсказки.'
labUrl: 'https://labex.io/ru/labs/python-python-main-function-633661?course=python-cheatsheet'
---

<base-title :title="frontmatter.title" :description="frontmatter.description">
Основная среда сценариев верхнего уровня
</base-title>

<base-lab-url :url="frontmatter.labUrl" />

## Что это такое

`__main__` — это имя области, в которой выполняется код верхнего уровня.
**Имя** модуля устанавливается равным `__main__` при чтении из стандартного ввода, сценария или интерактивной подсказки.

Модуль может обнаружить, выполняется ли он в основной области, проверив свое собственное `__name__`, что позволяет использовать распространенный идиом для условного выполнения кода в модуле. Когда он запускается как сценарий или с помощью `python -m`, но не при импорте:

```python
# __name__ == "__main__": проверка, запущен ли сценарий напрямую (не импортирован)
if __name__ == "__main__":  # True, когда запускается как сценарий, False, когда импортируется
    # выполняется только при запуске в качестве сценария
    main()
```

Для пакета тот же эффект может быть достигнут путем включения модуля **main.py**, содержимое которого будет выполнено, когда модуль запускается с помощью -m.

Например, если мы разрабатываем сценарий, предназначенный для использования в качестве модуля, мы должны сделать следующее:

```python
# Пример: функцию можно импортировать, но тестовый код запускается только при прямом выполнении
def add(a, b):
    return a+b

if __name__ == "__main__":  # Запускается только при прямом выполнении файла, а не при импорте
    add(3, 5)
```

## Преимущества

1. Каждый модуль Python имеет определенное `__name__`, и если оно равно `__main__`, это означает, что модуль запускается пользователем автономно, и мы можем предпринять соответствующие действия.
2. Если вы импортируете этот сценарий как модуль в другой сценарий, **имя** устанавливается в имя сценария/модуля.
3. Файлы Python могут выступать либо в качестве многократно используемых модулей, либо в качестве автономных программ.
4. `if __name__ == "__main__":` используется для выполнения некоторого кода только в том случае, если файл запускается напрямую, а не импортируется.

## Соответствующие ссылки

- <router-link to="/cheatsheet/functions">Функции</router-link>
- <router-link to="/cheatsheet/setup-py">setup.py</router-link>
- <router-link to="/blog/python-projects-with-poetry-and-vscode-part-1">Проекты Python с Poetry и VSCode. Часть 1</router-link>
- <router-link to="/builtin/import">import()</router-link>
