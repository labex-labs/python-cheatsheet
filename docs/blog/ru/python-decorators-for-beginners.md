---
title: '–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã Python: –ü—Ä–æ—Å—Ç—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–∞ ‚Äì –®–ø–∞—Ä–≥–∞–ª–∫–∞'
description: '–ï—Å–ª–∏ –≤—ã —É–º–µ–µ—Ç–µ –ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, –≤—ã –º–æ–∂–µ—Ç–µ –ø–∏—Å–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã. –£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —Ç–∞–π–º–µ—Ä—ã –∏ –ª–æ–≥–≥–µ—Ä—ã, –≤ –≤–∞—à –∫–æ–¥ —Å –ø–æ–º–æ—â—å—é —ç—Ç–∏—Ö –ø—Ä–æ—Å—Ç—ã—Ö, –ø–æ–Ω—è—Ç–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤.'
date: 'Aug 16, 2025'
updated: 'Aug 16, 2025'
tags: 'python, intermediate, decorators'
socialImage: '/blog/python-decorators.jpg'
layout: 'article'
---

<route lang="yaml">
meta:
    layout: "article"
    title: "–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã Python: –ü—Ä–æ—Å—Ç—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–∞ ‚Äì –®–ø–∞—Ä–≥–∞–ª–∫–∞"
    description: "–ï—Å–ª–∏ –≤—ã —É–º–µ–µ—Ç–µ –ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, –≤—ã –º–æ–∂–µ—Ç–µ –ø–∏—Å–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã. –£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —Ç–∞–π–º–µ—Ä—ã –∏ –ª–æ–≥–≥–µ—Ä—ã, –≤ –≤–∞—à –∫–æ–¥ —Å –ø–æ–º–æ—â—å—é —ç—Ç–∏—Ö –ø—Ä–æ—Å—Ç—ã—Ö, –ø–æ–Ω—è—Ç–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤."
    date: "Aug 16, 2025"
    updated: "Aug 16, 2025"
    tags: "python, intermediate, decorators"
    socialImage: "/blog/python-decorators.jpg"
</route>

<blog-title-header :frontmatter="frontmatter" title="–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã Python: –ü—Ä–æ—Å—Ç—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–∞ ‚Äì –®–ø–∞—Ä–≥–∞–ª–∫–∞" />

–í—ã –∑–Ω–∞–µ—Ç–µ —ç—Ç–æ —á—É–≤—Å—Ç–≤–æ, –∫–æ–≥–¥–∞ –≤–∏–¥–∏—Ç–µ `@something` –Ω–∞–¥ —Ñ—É–Ω–∫—Ü–∏–µ–π –∏ –≥–∞–¥–∞–µ—Ç–µ, –∫–∞–∫–∞—è —á–µ—Ä–Ω–∞—è –º–∞–≥–∏—è —Ç–∞–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç? –Ø —Ç–æ–∂–µ —á–µ—Ä–µ–∑ —ç—Ç–æ –ø—Ä–æ—Ö–æ–¥–∏–ª. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —É—Å—Ç—Ä–∞—à–∞—é—â–∏–º–∏, –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π Python, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –ø–æ–π–º–µ—Ç–µ –æ—Å–Ω–æ–≤—ã ‚Äî —Å–º. <router-link to="/cheatsheet/decorators">–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã (—à–ø–∞—Ä–≥–∞–ª–∫–∞)</router-link> –¥–ª—è –∫—Ä–∞—Ç–∫–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–µ–±–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∫–∞–∫ –ø–æ–¥–∞—Ä–æ—á–Ω—É—é —É–ø–∞–∫–æ–≤–∫—É –¥–ª—è –≤–∞—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π. –§—É–Ω–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π, –Ω–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–π –±–∞–Ω—Ç —Å–≤–µ—Ä—Ö—É ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞.

## –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä

–î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω–µ–º —Å —Å–∞–º–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

```python
def my_decorator(func):
    def wrapper():
        print("Something happens before!")
        func()
        print("Something happens after!")
    return wrapper

@my_decorator
def say_hello():
    print("Hello!")

say_hello()
# Something happens before!
# Hello!
# Something happens after!
```

–í–æ—Ç –∏ –≤—Å–µ! –î–µ–∫–æ—Ä–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –µ–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º. –°–∏–Ω—Ç–∞–∫—Å–∏—Å `@my_decorator` ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–π —Å–ø–æ—Å–æ–± –Ω–∞–ø–∏—Å–∞—Ç—å `say_hello = my_decorator(say_hello)`.

## –í–∞—à –ø–µ—Ä–≤—ã–π –ø–æ–ª–µ–∑–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä: –¢–∞–π–º–µ—Ä

–í–æ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞—Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ‚Äî —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ–±—â–∞–µ—Ç –≤–∞–º, —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤–∞—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π:

```python
import time
import functools

def timer(func):
    @functools.wraps(func)  # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–º—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        print(f"{func.__name__} took {end - start:.4f} seconds")
        return result
    return wrapper

@timer
def slow_function():
    time.sleep(1)
    return "Done!"

result = slow_function()
# slow_function took 1.0041 seconds
print(result)  # Done!
```

–°–º. <router-link to="/cheatsheet/decorators">–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã (—à–ø–∞—Ä–≥–∞–ª–∫–∞)</router-link> –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –æ–±—â–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤.

–í–∏–¥–∏—Ç–µ, –∫–∞–∫ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `*args` –∏ `**kwargs` (—Å–º. <router-link to="/cheatsheet/args-and-kwargs">–ê—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –∫–ª—é—á–µ–≤—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã</router-link>)? –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—à–µ–º—É –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—É —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, —Å–∫–æ–ª—å–∫–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –æ–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç.

## –û—Ç–ª–∞–¥–∫–∞ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞: –î–µ–∫–æ—Ä–∞—Ç–æ—Ä-–ª–æ–≥–≥–µ—Ä

–ö–æ–≥–¥–∞ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –≤—ã—è—Å–Ω–∏—Ç—å, —á—Ç–æ –∏–¥–µ—Ç –Ω–µ —Ç–∞–∫, —ç—Ç–æ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –ø–æ–ª–µ–∑–µ–Ω ‚Äî —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ <router-link to="/cheatsheet/debugging">–û—Ç–ª–∞–¥–∫–∞ (—à–ø–∞—Ä–≥–∞–ª–∫–∞)</router-link> –¥–ª—è —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–æ–≤–µ—Ç–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤:

```python
def debug(func):
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        args_str = ', '.join(repr(arg) for arg in args)
        kwargs_str = ', '.join(f"{k}={v!r}" for k, v in kwargs.items())
        all_args = ', '.join(filter(None, [args_str, kwargs_str]))
        print(f"Calling {func.__name__}({all_args})")

        result = func(*args, **kwargs)
        print(f"{func.__name__} returned {result!r}")
        return result
    return wrapper

@debug
def add_numbers(a, b, multiply_by=1):
    return (a + b) * multiply_by

result = add_numbers(5, 3, multiply_by=2)
# Calling add_numbers(5, 3, multiply_by=2)
# add_numbers returned 16
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º: –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–•–æ—Ç–∏—Ç–µ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é? –í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:

```python
def requires_auth(func):
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        # –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤—ã –±—ã –ø—Ä–æ–≤–µ—Ä—è–ª–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
        user_logged_in = True  # –≠—Ç–æ –ø—Ä–∏—à–ª–æ –±—ã –∏–∑ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

        if not user_logged_in:
            return "Access denied! Please log in."

        return func(*args, **kwargs)
    return wrapper

@requires_auth
def delete_everything():
    return "üí• Everything deleted! (just kidding)"

result = delete_everything()
print(result)  # üí• Everything deleted! (just kidding)
```

## –£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã: –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∑–∞–∫—ç—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

```python
def cache(func):
    cached_results = {}

    @functools.wraps(func)
    def wrapper(*args):
        if args in cached_results:
            print(f"Cache hit for {func.__name__}{args}")
            return cached_results[args]

        print(f"Computing {func.__name__}{args}")
        result = func(*args)
        cached_results[args] = result
        return result

    return wrapper

@cache
def fibonacci(n):
    if n < 2:
        return n
    return fibonacci(n - 1) + fibonacci(n - 2)

print(fibonacci(10))
# Computing fibonacci(10)
# Computing fibonacci(9)
# Computing fibonacci(8)
# ... (lots of computation)
# Cache hit for fibonacci(2)
# Cache hit for fibonacci(3)
# ... (cache hits)
# 55
```

## –ü–æ–≤—Ç–æ—Ä –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–ò–Ω–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å —Å–µ—Ç—å—é –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º. –≠—Ç–æ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–æ–ø—ã—Ç–∫—É:

```python
import random

def retry(max_attempts=3):
    def decorator(func):
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            for attempt in range(max_attempts):
                try:
                    return func(*args, **kwargs)
                except Exception as e:
                    print(f"Attempt {attempt + 1} failed: {e}")
                    if attempt == max_attempts - 1:
                        print("All attempts failed!")
                        raise
        return wrapper
    return decorator

@retry(max_attempts=3)
def unreliable_api_call():
    if random.random() < 0.7:  # 70% chance of failure
        raise Exception("Network error")
    return "Success!"

# –≠—Ç–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç –ø–æ–ø—ã—Ç–∫—É –¥–æ 3 —Ä–∞–∑, –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å–±–æ–π
result = unreliable_api_call()
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏: –ó–∞–º–µ–¥–ª–∏—Ç–µ –≤–∞—à –∫–æ–¥

–ò–Ω–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ –±—ã—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–º–∏ —Å API –∏–ª–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö:

```python
import time
import functools

def rate_limit(seconds):
    """
    A decorator to limit how frequently a function can be called.
    """
    def decorator(func):
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–ø–∏—Å–æ–∫ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω—è–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è float –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–∑–æ–≤–∞.
        # –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±–µ—Ä—Ç–∫–µ –µ–≥–æ –∏–∑–º–µ–Ω—è—Ç—å.
        last_called_at = [0.0]

        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            # –í—ã—á–∏—Å–ª—è–µ–º –≤—Ä–µ–º—è, –ø—Ä–æ—à–µ–¥—à–µ–µ —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–∑–æ–≤–∞
            elapsed = time.time() - last_called_at[0]
            wait_time = seconds - elapsed

            # –ï—Å–ª–∏ –ø—Ä–æ—à–ª–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏, –∂–¥–µ–º –æ—Å—Ç–∞—Ç–æ–∫
            if wait_time > 0:
                time.sleep(wait_time)

            # –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–∑–æ–≤–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é
            last_called_at[0] = time.time()
            return func(*args, **kwargs)

        return wrapper
    return decorator

@rate_limit(1)  # –†–∞–∑—Ä–µ—à–∏—Ç—å –Ω–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –≤ —Å–µ–∫—É–Ω–¥—É
def call_api():
    print(f"API called at {time.time():.2f}")

# –≠—Ç–∏ –≤—ã–∑–æ–≤—ã –±—É–¥—É—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 1 —Å–µ–∫—É–Ω–¥—É –∫–∞–∂–¥—ã–π
call_api()
call_api()
call_api()

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# API called at 1723823038.50
# API called at 1723823039.50
# API called at 1723823040.50
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞—à–∏—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞:

```python
def validate_types(**expected_types):
    def decorator(func):
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            # –ü–æ–ª—É—á–∞–µ–º –∏–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
            import inspect
            sig = inspect.signature(func)
            bound_args = sig.bind(*args, **kwargs)
            bound_args.apply_defaults()

            for param_name, expected_type in expected_types.items():
                if param_name in bound_args.arguments:
                    value = bound_args.arguments[param_name]
                    if not isinstance(value, expected_type):
                        raise TypeError(
                            f"{param_name} must be {expected_type.__name__}, "
                            f"got {type(value).__name__}"
                        )

            return func(*args, **kwargs)
        return wrapper
    return decorator

@validate_types(name=str, age=int)
def create_user(name, age):
    return f"User {name}, age {age}"

# –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
user1 = create_user("Alice", 25)
print(user1)  # User Alice, age 25

# –≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç TypeError
try:
    user2 = create_user("Bob", "twenty-five")
except TypeError as e:
    print(e)  # age must be int, got str
```

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä

| –¢–∏–ø –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞           | –õ—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è          | –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è                                 |
| :----------------------- | :-------------------------------- | :---------------------------------------------------- |
| **–¢–∞–π–º–µ—Ä**               | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏     | –ü–æ–∏—Å–∫ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è                  |
| **–û—Ç–ª–∞–¥—á–∏–∫/–õ–æ–≥–≥–µ—Ä**      | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ | –ü–æ–Ω–∏–º–∞–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π, –æ—Ç–ª–∞–¥–∫–∞                    |
| **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**       | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞   | –ó–∞—â–∏—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  |
| **–ö—ç—à**                  | –î–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è          | –ó–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –≤—ã–∑–æ–≤—ã API, —Å–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è |
| **–ü–æ–≤—Ç–æ—Ä**               | –ù–µ–Ω–∞–¥–µ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏               | –°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏                    |
| **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏** | –ö–æ–Ω—Ç—Ä–æ–ª—å —á–∞—Å—Ç–æ—Ç—ã                  | –í—ã–∑–æ–≤—ã API, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ø–∞–º–∞                      |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è**            | –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö                | –í–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã API                      |

## –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤

**–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@functools.wraps`** ‚Äî —ç—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–º—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –æ–±–ª–µ–≥—á–∞—è –æ—Ç–ª–∞–¥–∫—É (—Å–º. <router-link to="/cheatsheet/decorators">–®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º</router-link> –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤).

**–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∏—Ö –ø—Ä–æ—Å—Ç—ã–º–∏** ‚Äî –µ—Å–ª–∏ –≤–∞—à –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω—ã–º, –ø–æ–¥—É–º–∞–π—Ç–µ, –Ω–µ –ª—É—á—à–µ –ª–∏ —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –∫–ª–∞—Å—Å–æ–º –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π.

**–ü–æ–¥—É–º–∞–π—Ç–µ –æ –ø–æ—Ä—è–¥–∫–µ** ‚Äî –ø—Ä–∏ –Ω–∞–ª–æ–∂–µ–Ω–∏–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ —Ç–æ—Ç, —á—Ç–æ –±–ª–∏–∂–µ –≤—Å–µ–≥–æ –∫ —Ñ—É–Ω–∫—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º:

```python
@timer
@debug
def my_function():
    pass

# –≠—Ç–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ:
# my_function = timer(debug(my_function))
```

**–ù–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ –∏–º–∏** ‚Äî –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –º–æ—â–Ω—ã–µ, –Ω–æ –∏—Ö —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–æ–∂–µ—Ç –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç—å —á—Ç–µ–Ω–∏–µ –∫–æ–¥–∞.

## –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫ —Ñ—É–Ω–∫—Ü–∏—è–º, –Ω–µ –∏–∑–º–µ–Ω—è—è –∏—Ö –∫–æ–¥. –û–Ω–∏ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Å–∫–≤–æ–∑–Ω—ã—Ö –∑–∞–¥–∞—á, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏, –≤–µ–¥–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–æ–≤, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ.

–ù–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤, –ø–æ–∫–∞–∑–∞–Ω–Ω—ã—Ö –∑–¥–µ—Å—å. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –æ—Å–≤–æ–∏—Ç–µ—Å—å, –≤—ã —Å–º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –≤–∞—à–∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –Ω—É–∂–¥. –ì–ª–∞–≤–Ω–æ–µ ‚Äî –ø–æ–Ω—è—Ç—å, —á—Ç–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–∏—Ç—Ä—ã–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —ç—Ç–æ–π –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏.

–•–æ—Ç–∏—Ç–µ –ø–æ–ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è? –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `@timer` –∫ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º –∏–∑ –≤–∞—à–∏—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫–∏–µ –∏–∑ –Ω–∏—Ö —Ä–∞–±–æ—Ç–∞—é—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º –≤—ã –æ–∂–∏–¥–∞–ª–∏. –í—ã –º–æ–∂–µ—Ç–µ —É–¥–∏–≤–∏—Ç—å—Å—è —Ç–æ–º—É, —á—Ç–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç–µ!

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏

–î–æ–±–∞–≤—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –Ω–∏–∂–µ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —á—Ç–µ–Ω–∏—è:

- <router-link to="/cheatsheet/decorators">–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã (—à–ø–∞—Ä–≥–∞–ª–∫–∞)</router-link>
- <router-link to="/cheatsheet/functions">–§—É–Ω–∫—Ü–∏–∏ (—à–ø–∞—Ä–≥–∞–ª–∫–∞)</router-link>
- <router-link to="/cheatsheet/args-and-kwargs">–ê—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –∫–ª—é—á–µ–≤—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (—à–ø–∞—Ä–≥–∞–ª–∫–∞)</router-link>
- <router-link to="/cheatsheet/debugging">–û—Ç–ª–∞–¥–∫–∞ (—à–ø–∞—Ä–≥–∞–ª–∫–∞)</router-link>
- <router-link to="/cheatsheet/oop-basics">–û—Å–Ω–æ–≤—ã –û–û–ü (—à–ø–∞—Ä–≥–∞–ª–∫–∞)</router-link>
- <router-link to="/builtin/callable">callable() (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è)</router-link>
- <router-link to="/builtin/staticmethod">staticmethod (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è)</router-link>
- <router-link to="/blog/python-easy-args-kwargs">Python: –ü—Ä–æ—Å—Ç—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –∫–ª—é—á–µ–≤—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–±–ª–æ–≥)</router-link>
- <router-link to="/blog/python-comprehensions-step-by-step">Python: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å–ø–∏—Å–∫–æ–≤ (–±–ª–æ–≥)</router-link>
